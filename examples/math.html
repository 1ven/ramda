<html>
<head>
    <meta charset="utf-8">
    <title>Ramda and Math Tests</title>
</head>
<body>
    <h1>Ramda and Math Tests</h1>
    <p>Nothing to see here, folks.  Please move on (or open the console.</p>
    <script src="../ramda.js"></script>
    <script>ramda.installTo(this);</script>
    <script src="math.js"></script>
    <script type="text/javascript">
        if (ramda && primes && allPrimeFactors && nthPrime) {
            console.log("Ramda & math libraries loaded.");
        } else {
            console.log("Problems loading libraries");
        }
    </script>
    <script>
        var a = [
            {value: "4a55eff3-1e0d-4a81-9105-3ddd7521d642", display: "Jamsheer"},
            {value: "644838b3-604d-4899-8b78-09e4799f586f", display: "Muhammed"},
            {value: "b6ee537a-375c-45bd-b9d4-4dd84a75041d", display: "Ravi"},
            {value: "e97339e1-939d-47ab-974c-1b68c9cfb536", display: "Ajmal"},
            {value: "a63a6f77-c637-454e-abf2-dfb9b543af6c", display: "Ryan"}
        ];

        var b = [
            {value: "4a55eff3-1e0d-4a81-9105-3ddd7521d642", display: "Jamsheer", $$hashKey: "008"},
            {value: "644838b3-604d-4899-8b78-09e4799f586f", display: "Muhammed", $$hashKey: "009"},
            {value: "b6ee537a-375c-45bd-b9d4-4dd84a75041d", display: "Ravi", $$hashKey: "00A"},
            {value: "e97339e1-939d-47ab-974c-1b68c9cfb536", display: "Ajmal", $$hashKey: "00B"}
        ];

    a = [{ value:"4a55eff3-1e0d-4a81-9105-3ddd7521d642", display:"Jamsheer"}, { value:"644838b3-604d-4899-8b78-09e4799f586f", display:"Muhammed"}, { value:"b6ee537a-375c-45bd-b9d4-4dd84a75041d", display:"Ravi"}, { value:"e97339e1-939d-47ab-974c-1b68c9cfb536", display:"Ajmal"},  { value:"a63a6f77-c637-454e-abf2-dfb9b543af6c", display:"Ryan"}]
    b = [{ value:"4a55eff3-1e0d-4a81-9105-3ddd7521d642", display:"Jamsheer", $$hashKey:"008"}, { value:"644838b3-604d-4899-8b78-09e4799f586f", display:"Muhammed", $$hashKey:"009"}, { value:"b6ee537a-375c-45bd-b9d4-4dd84a75041d", display:"Ravi", $$hashKey:"00A"}, { value:"e97339e1-939d-47ab-974c-1b68c9cfb536", display:"Ajmal", $$hashKey:"00B"}]

    var makeDiffFunc = (function() {
        var contains = function(pred, a, list) {
            var idx = -1, len = list.length;
            while (++idx < len) {if (pred(a, list[idx])) {return true;}}
            return false;
        };
        var complement = function(pred, a, b) {
            return a.filter(function(elem) {return !contains(pred, elem, b);});
        };
        return function(pred) {
            return function(a, b) {
                return complement(pred, a, b).concat(complement(pred, b, a));
            };
        };
    }());

    var myDiff = makeDiffFunc(function(a, b) {
        return a.value === b.value && a.display === b.display;
    });

    var result = myDiff(a, b); //=>  {value="a63a6f77-c637-454e-abf2-dfb9b543af6c", display="Ryan"}
    </script>
</body>
</html>

